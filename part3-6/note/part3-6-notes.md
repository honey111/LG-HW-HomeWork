## Vue.js + Vuex + TypeScript 实战项目开发与项目优化
### 任务一: Vue 项目实战
#### 创建项目
`js
vue create edu-boss-fed
空格选择 Enter选择下一项
history模式好看简洁但是兼容性不好，不选择
选择dart-sass功能、性能比node-sass更好一点
创建项目后运行查看
`
#### 加入Git版本管理
（1）创建远程仓库
（2）将本地仓库推到线上
如果没有本地仓库
`js
<!-- 创建本地仓库 -->
git init 
<!-- 将文件添加到暂存区 -->
git add .
<!-- 提交历史记录 -->
git commit “提交日志”
<!-- 添加远端仓库地址 -->
git remote add origin 远程仓库地址
<!-- 推送提交 -->
git push -u origin master
`
如果已有本地仓库
`js
<!-- 添加远端仓库地址 -->
git remote add origin 远程仓库地址
`
#### 使用TS开发Vue项目-相关配置
- 编辑器给的类型说明
- TypeScript 编译期间的类型验证

#### 接口文档
http://113.31.105.128/front/doc.html#/home
测试账号
18201288771/111111

#### 如何处理Token过期
access_token
  作用：获取需要授权的接口数据

expires_in
  作用： access_token 过期的时间

refresh_token
  作用： 舒欣获取新的 access_token

为什么 access_token 需要有过期时间以及为什么比较短
  为了安全

方法一：
在请求发起钱拦截每个请求，判断 token 的有效时间是否已经过期，若已过期，则将请求挂起，先刷新 token 后在继续请求。

优点： 在请求前拦截，能节省请求，省流量
缺点： 需要后端额外提供一个token过期时间的字段；使用了本地时间判断，若本地时间被篡改，特别是本地时间比服务器时间慢时，拦截会失败。

方法二：
不在请求前拦截，而是拦截返回后的数据。先发起请求，接口返回过期后，先刷新token，在进行一次重试。

优点： 不需要额外的token过期字段，不需要判断时间。
缺点： 会小郝多一次请求，耗流量。

综上，方法一和二优缺点是互补的，方法一游校验失败的风险（本地时间呗篡改时，用户不会那么闲吧），方法二更简单粗暴，等知道服务器已经过期了再重试一次，只是会耗多一个请求。
